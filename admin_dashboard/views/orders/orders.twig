<link rel="stylesheet" href="/admin_dashboard/views/orders/orders.css">

<div class="container">
    <div class="nav nav-tabs col-lg-12 justify-content-center" role="tablist">
        <button class="nav-link" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">All Cars</button>
        <button class="nav-link" id="nav-shopping-tab" data-bs-toggle="tab" data-bs-target="#nav-shopping" role="tab" aria-controls="nav-shopping" aria-selected="false">Search Agenda</button>
    </div>
    <div class="row">
        <div class="col-5">
            <ul class="card list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span class="badge bg-primary rounded-pill">Total Orders</span>
                    <span class="badge bg-primary rounded-pill" id="ordersThisMonth"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span class="badge bg-primary rounded-pill">Legend</span>
                    <span id="carMapping"></span>
                </li>
            </ul>
        </div>
        <div class="col-5 ms-auto">
            <ul class="card list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <input type="text" id="search" class="form-control" placeholder="Search for a car">
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <input type="date" id="datepicker" class="form-control" placeholder="Search for a car">
                </li>
            </ul>
            <button class="btn btn-primary mt-3" id="searchBtn">Search</button>
        </div>
        <div class="col-lg-12 mt-5">
            <div id="calendar"></div>
        </div>
    </div>
</div>

<script>
    let orders = [
        {% for order in orders %}
            {
            orderId: '{{ order.id }}',
            renterName: '{{ order.firstname }} {{ order.lastname }}',
            car: '{{ order.name }}',
            startDate: '{{ order.rental_date|date("M d, Y") }}',
            endDate: '{{ order.rental_date|date_modify('+' ~ order.rental_duration ~ ' days')|date('M d, Y') }}',
            }{% if not loop.last %},{% endif %}
        {% endfor %}
    ];

    function generateUniqueColor(id) {
        var hue = (id * 137.508) % 360;
        var color = 'hsl(' + hue + ', 70%, 60%)';
        return color;
    }
</script>
<script src="/admin_dashboard/views/orders/generateCalendar.js"></script>
