<a class="text-sm font-weight-bold mb-0 icon-move-left ms-auto view-link" href="/admin_dashboard/index.php/orders">
    <button class="btn btn-primary btn-sm" id="editCar"><i class="fas fa-arrow-left text-sm ms-1" aria-hidden="true"></i>&nbsp;Back</button>
</a>

<div class="container-fluid card mt-3">
    <div class="row">
        <div class="col-lg-12 mb-3">
            <div class="new_property_form">
                <h4 class="title mt-5">Order Details</h4>
                <div class="row">
                    <div class="col">
                        <div class="form">
                            <label class="form-label">Customer</label>
                            <input name="form_name" id="autoCompleteCustomer" class="form-control" type="text" placeholder="Customer">
                        </div>
                    </div>
                    <div class="col">
                        <div class="form">
                            <label class="form-label">Car</label>
                            <input name="form_name" id="autoCompleteCar" class="form-control" type="text" placeholder="Car">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let customers = [
        {% for customer in customers %}
            "{{ customer.firstname }} {{ customer.lastname }}",
        {% endfor %}
    ]

    let cars = [
        {% for car in cars %}
            "{{ car.name }}",
        {% endfor %}
    ]

    const autoCompleteCustomers = new autoComplete({
        selector: "#autoCompleteCustomer",
        data: {
            src: customers,
        },
        resultsList: {
            element: (list, data) => {
                const message = document.createElement("div");
                if (!data.results.length) {
                    message.setAttribute("class", "no_result");
                    message.innerHTML = `<span>Found no results for "${data.query}"</span>`;
                    list.prepend(message);
                }
            },
        },
        events: {
            input: {
                selection: (event) => {
                    const selectionCustomer = event.detail.selection.value;
                    autoCompleteCustomers.input.value = selectionCustomer;
                },
            },
        },
    });

    const autoCompleteCars = new autoComplete({
        selector: "#autoCompleteCar",
        data: {
            src: cars,
        },
        resultsList: {
            element: (list, data) => {
                const message = document.createElement("div");
                if (!data.results.length) {
                    message.setAttribute("class", "no_result");
                    message.innerHTML = `<span>Found no results for "${data.query}"</span>`;
                    list.prepend(message);
                }
            },
        },
        events: {
            input: {
                selection: (event) => {
                    const selectionCar = event.detail.selection.value;
                    autoCompleteCars.input.value = selectionCar;
                },
            },
        },
    });
</script>